{"ast":null,"code":"// 文件：src/components/AllYearsChart.jsx\nimport React from'react';import{Line}from'react-chartjs-2';import{useInView}from'react-intersection-observer';import{Chart as ChartJS,CategoryScale,LinearScale,PointElement,LineElement,Tooltip,Legend,Title}from'chart.js';import{jsx as _jsx}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,PointElement,LineElement,Tooltip,Legend,Title);const AllYearsChart=()=>{const{ref,inView}=useInView({triggerOnce:true,threshold:0.3});// 构造从 2016-01 到 2023-12 的标签\nconst labels=Array.from({length:96},(_,i)=>{const year=2016+Math.floor(i/12);const month=(i%12+1).toString().padStart(2,'0');return\"\".concat(year,\"-\").concat(month);});const data={labels,datasets:[{label:'PM2.5',data:Array.from({length:96},()=>Math.floor(25+Math.random()*20)),borderColor:'#e6374e',tension:0.3,pointRadius:3,fill:false},{label:'PM10',data:Array.from({length:96},()=>Math.floor(40+Math.random()*25)),borderColor:'#aaa',tension:0.3,pointRadius:3,fill:false},{label:'NO₂',data:Array.from({length:96},()=>Math.floor(15+Math.random()*15)),borderColor:'#66c',tension:0.3,pointRadius:3,fill:false},{label:'AQI',data:Array.from({length:96},()=>Math.floor(60+Math.random()*40)),borderColor:'#fff',tension:0.3,pointRadius:3,fill:false}]};const options={animation:{duration:2000,easing:'easeOutQuart'},interaction:{mode:'index',intersect:false},plugins:{title:{display:true,text:'历史 PM2.5 月均浓度趋势 (2016–2023)',color:'#fff',font:{family:'Noto Sans SC',size:18}},tooltip:{backgroundColor:'#222',titleColor:'#e6374e',bodyColor:'#eee',borderColor:'#e6374e',borderWidth:1,displayColors:false,callbacks:{label:ctx=>\"\".concat(ctx.dataset.label,\"\\uFF1A\").concat(ctx.raw,\" \\u03BCg/m\\xB3\")}},legend:{labels:{color:'#ccc',font:{family:'Noto Sans SC',size:12}}}},scales:{x:{ticks:{color:'#aaa'},grid:{color:'rgba(255,255,255,0.08)'}},y:{ticks:{color:'#aaa'},grid:{color:'rgba(255,255,255,0.08)'}}},elements:{point:{hoverRadius:6,hoverBorderWidth:3},line:{hoverBorderWidth:4,borderWidth:2}}};return/*#__PURE__*/_jsx(\"div\",{ref:ref,style:{maxWidth:'1000px',margin:'4rem auto'},children:inView&&/*#__PURE__*/_jsx(Line,{data:data,options:options})});};export default AllYearsChart;","map":{"version":3,"names":["React","Line","useInView","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Tooltip","Legend","Title","jsx","_jsx","register","AllYearsChart","ref","inView","triggerOnce","threshold","labels","Array","from","length","_","i","year","Math","floor","month","toString","padStart","concat","data","datasets","label","random","borderColor","tension","pointRadius","fill","options","animation","duration","easing","interaction","mode","intersect","plugins","title","display","text","color","font","family","size","tooltip","backgroundColor","titleColor","bodyColor","borderWidth","displayColors","callbacks","ctx","dataset","raw","legend","scales","x","ticks","grid","y","elements","point","hoverRadius","hoverBorderWidth","line","style","maxWidth","margin","children"],"sources":["/Users/apple/Desktop/air-quality-visualization-main/src/components/AllYearsChart.jsx"],"sourcesContent":["// 文件：src/components/AllYearsChart.jsx\nimport React from 'react';\nimport { Line } from 'react-chartjs-2';\nimport { useInView } from 'react-intersection-observer';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Tooltip,\n  Legend,\n  Title\n} from 'chart.js';\n\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Tooltip, Legend, Title);\n\nconst AllYearsChart = () => {\n  const { ref, inView } = useInView({ triggerOnce: true, threshold: 0.3 });\n\n  // 构造从 2016-01 到 2023-12 的标签\n  const labels = Array.from({ length: 96 }, (_, i) => {\n    const year = 2016 + Math.floor(i / 12);\n    const month = (i % 12 + 1).toString().padStart(2, '0');\n    return `${year}-${month}`;\n  });\n\n  const data = {\n    labels,\n    datasets: [\n      {\n        label: 'PM2.5',\n        data: Array.from({ length: 96 }, () => Math.floor(25 + Math.random() * 20)),\n        borderColor: '#e6374e',\n        tension: 0.3,\n        pointRadius: 3,\n        fill: false\n      },\n      {\n        label: 'PM10',\n        data: Array.from({ length: 96 }, () => Math.floor(40 + Math.random() * 25)),\n        borderColor: '#aaa',\n        tension: 0.3,\n        pointRadius: 3,\n        fill: false\n      },\n      {\n        label: 'NO₂',\n        data: Array.from({ length: 96 }, () => Math.floor(15 + Math.random() * 15)),\n        borderColor: '#66c',\n        tension: 0.3,\n        pointRadius: 3,\n        fill: false\n      },\n      {\n        label: 'AQI',\n        data: Array.from({ length: 96 }, () => Math.floor(60 + Math.random() * 40)),\n        borderColor: '#fff',\n        tension: 0.3,\n        pointRadius: 3,\n        fill: false\n      }\n    ]\n  };\n\n  const options = {\n    animation: { duration: 2000, easing: 'easeOutQuart' },\n    interaction: { mode: 'index', intersect: false },\n    plugins: {\n      title: {\n        display: true,\n        text: '历史 PM2.5 月均浓度趋势 (2016–2023)',\n        color: '#fff',\n        font: { family: 'Noto Sans SC', size: 18 }\n      },\n      tooltip: {\n        backgroundColor: '#222',\n        titleColor: '#e6374e',\n        bodyColor: '#eee',\n        borderColor: '#e6374e',\n        borderWidth: 1,\n        displayColors: false,\n        callbacks: {\n          label: ctx => `${ctx.dataset.label}：${ctx.raw} μg/m³`\n        }\n      },\n      legend: {\n        labels: { color: '#ccc', font: { family: 'Noto Sans SC', size: 12 } }\n      }\n    },\n    scales: {\n      x: {\n        ticks: { color: '#aaa' },\n        grid: { color: 'rgba(255,255,255,0.08)' }\n      },\n      y: {\n        ticks: { color: '#aaa' },\n        grid: { color: 'rgba(255,255,255,0.08)' }\n      }\n    },\n    elements: {\n      point: { hoverRadius: 6, hoverBorderWidth: 3 },\n      line: { hoverBorderWidth: 4, borderWidth: 2 }\n    }\n  };\n\n  return (\n    <div ref={ref} style={{ maxWidth: '1000px', margin: '4rem auto' }}>\n      {inView && <Line data={data} options={options} />}\n    </div>\n  );\n};\n\nexport default AllYearsChart;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}